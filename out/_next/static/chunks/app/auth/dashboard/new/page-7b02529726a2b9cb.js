(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[891],{699:(e,a,t)=>{Promise.resolve().then(t.bind(t,9223))},2175:(e,a,t)=>{"use strict";t.d(a,{A:()=>l,I:()=>n,db:()=>d});var s=t(3915),r=t(5317),o=t(858);let i=(0,s.Wp)({apiKey:"AIzaSyD2YieupthdsqBItdMd0lFkYKlVxdzKT8I",authDomain:"care4you1-62cc7.firebaseapp.com",projectId:"care4you1-62cc7",storageBucket:"care4you1-62cc7.appspot.com",messagingSenderId:"617055937715",appId:"1:617055937715:android:4b08984ae563213174bcc6"}),d=(0,r.aU)(i),n=(0,o.c7)(i),l=i},5695:(e,a,t)=>{"use strict";var s=t(8999);t.o(s,"useRouter")&&t.d(a,{useRouter:function(){return s.useRouter}})},5859:(e,a,t)=>{"use strict";t.d(a,{Wp:()=>i,hx:()=>d,iC:()=>n});var s=t(2175),r=t(5317),o=t(858);let i=async()=>(await (0,r.GG)((0,r.rJ)(s.db,"hospitals"))).docs.map(e=>({id:e.id,...e.data()})),d=async(e,a)=>{let t="";if(a){let e=(0,o.KR)(s.I,"hospitals/".concat(Date.now(),"_").concat(a.name));await (0,o.D)(e,a),t=await (0,o.qk)(e)}let i={...e,photo:t};return(await (0,r.gS)((0,r.rJ)(s.db,"hospitals"),i)).id},n=async e=>{await (0,r.kd)((0,r.H9)(s.db,"hospitals",e))}},9223:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>n});var s=t(5155),r=t(2115),o=t(5695);let i=e=>{let{initialData:a,onSubmit:t}=e,[i,d]=(0,r.useState)((null==a?void 0:a.name)||""),[n,l]=(0,r.useState)((null==a?void 0:a.description)||""),[c,u]=(0,r.useState)(!1),p=(0,o.useRouter)(),m=async e=>{e.preventDefault(),u(!0);try{await t({name:i,description:n}),p.push("/auth/dashboard/hospitals")}catch(e){console.error(e)}finally{u(!1)}};return(0,s.jsxs)("div",{className:"p-6 max-w-lg mx-auto bg-white rounded-xl shadow-md",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:a?"Edit Hospital":"Add New Hospital"}),(0,s.jsxs)("form",{onSubmit:m,children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700",children:"Hospital Name"}),(0,s.jsx)("input",{type:"text",id:"name",value:i,onChange:e=>d(e.target.value),required:!0,className:"w-full mt-2 px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-[#00b4d8] transition"})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{htmlFor:"description",className:"block text-sm font-semibold text-gray-700",children:"Description"}),(0,s.jsx)("textarea",{id:"description",value:n,onChange:e=>l(e.target.value),required:!0,rows:4,className:"w-full mt-2 px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-[#00b4d8] transition"})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,s.jsx)("button",{type:"button",onClick:()=>p.push("/dashboard/hospitals"),className:"px-4 py-2 text-gray-700 border rounded-md hover:bg-gray-100 transition",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"px-6 py-2 rounded-md text-white ".concat(c?"bg-gray-400":"bg-[#00b4d8] hover:bg-[#009fc5]"," transition"),disabled:c,children:c?"Saving...":a?"Save Changes":"Add Hospital"})]})]})]})};var d=t(5859);let n=()=>{let e=async e=>{try{await (0,d.hx)(e)}catch(e){console.error("Error adding hospital:",e)}};return(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)(i,{onSubmit:e})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[992,392,441,684,358],()=>a(699)),_N_E=e.O()}]);