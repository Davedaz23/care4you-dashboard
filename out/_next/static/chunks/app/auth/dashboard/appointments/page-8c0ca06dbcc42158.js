(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[917],{285:(e,a,s)=>{"use strict";s.d(a,{$:()=>l});var t=s(5155);function l(e){let{variant:a="default",children:s,...l}=e;return(0,t.jsx)("button",{...l,className:"".concat("px-4 py-2 rounded text-white font-semibold"," ").concat({default:"bg-blue-600 hover:bg-blue-700",destructive:"bg-red-600 hover:bg-red-700"}[a]),children:s})}},299:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>g});var t=s(5155),l=s(2115),r=s(2175),i=s(5317),d=s(2523),n=s(285),o=s(6695),c=s(3319),p=s(4786),m=s(6474),u=s(5196);let h=p.bL;p.YJ;let x=p.WT,f=l.forwardRef((e,a)=>{let{className:s="",children:l,...r}=e;return(0,t.jsxs)(p.l9,{ref:a,className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ".concat(s),...r,children:[l,(0,t.jsx)(p.In,{asChild:!0,children:(0,t.jsx)(m.A,{className:"h-4 w-4 opacity-50"})})]})});f.displayName=p.l9.displayName;let N=l.forwardRef((e,a)=>{let{className:s="",children:l,position:r="popper",...i}=e;return(0,t.jsx)(p.ZL,{children:(0,t.jsx)(p.UC,{ref:a,className:"relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md animate-in fade-in-80 ".concat("popper"===r?"translate-y-1":""," ").concat(s),position:r,...i,children:(0,t.jsx)(p.LM,{className:"p-1 ".concat("popper"===r?"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]":""),children:l})})})});N.displayName=p.UC.displayName,l.forwardRef((e,a)=>{let{className:s="",...l}=e;return(0,t.jsx)(p.JU,{ref:a,className:"py-1.5 pl-8 pr-2 text-sm font-semibold ".concat(s),...l})}).displayName=p.JU.displayName;let b=l.forwardRef((e,a)=>{let{className:s="",children:l,...r}=e;return(0,t.jsxs)(p.q7,{ref:a,className:"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 ".concat(s),...r,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(p.VF,{children:(0,t.jsx)(u.A,{className:"h-4 w-4"})})}),(0,t.jsx)(p.p4,{children:l})]})});function g(){let[e,a]=(0,l.useState)([]),[s,p]=(0,l.useState)([]),[m,u]=(0,l.useState)({fullName:"",email:"",phoneNumber:"",hospitalName:"",hospitalID:"",app_date:(0,c.GP)(new Date,"yyyy-MM-dd"),app_time:"09:00",address:"",description:""}),[g,y]=(0,l.useState)(null),[j,v]=(0,l.useState)(!1),w=async()=>{v(!0);try{let e=(await (0,i.GG)((0,i.rJ)(r.db,"appointments"))).docs.map(e=>{let a=e.data();return{id:e.id,fullName:a.fullName||"",email:a.email||"",phoneNumber:a.phoneNumber||"",hospitalName:a.hospitalName||"",hospitalID:a.hospitalID||"",app_date:a.app_date||"",app_time:a.app_time||"",address:a.address||"",description:a.description||"",formattedDate:a.app_date?(0,c.GP)(new Date(a.app_date),"PPP"):"No date"}});a(e)}catch(e){console.error("Error fetching appointments:",e)}finally{v(!1)}},_=async()=>{try{let e=(await (0,i.GG)((0,i.rJ)(r.db,"hospitals"))).docs.map(e=>({id:e.id,name:e.data().name||"",address:e.data().address||""}));p(e)}catch(e){console.error("Error fetching hospitals:",e)}},D=async()=>{if(!m.fullName||!m.phoneNumber||!m.hospitalID)return void alert("Please fill in all required fields");v(!0);try{let e={fullName:m.fullName,email:m.email,phoneNumber:m.phoneNumber,hospitalName:m.hospitalName,hospitalID:m.hospitalID,app_date:m.app_date,app_time:m.app_time,address:m.address,description:m.description};g?await (0,i.mZ)((0,i.H9)(r.db,"appointments",g),e):await (0,i.gS)((0,i.rJ)(r.db,"appointments"),e),u({fullName:"",email:"",phoneNumber:"",hospitalName:"",hospitalID:"",app_date:(0,c.GP)(new Date,"yyyy-MM-dd"),app_time:"09:00",address:"",description:""}),y(null),w()}catch(e){console.error("Error saving appointment:",e)}finally{v(!1)}},I=e=>{u({fullName:e.fullName,email:e.email,phoneNumber:e.phoneNumber,hospitalName:e.hospitalName,hospitalID:e.hospitalID,app_date:e.app_date||(0,c.GP)(new Date,"yyyy-MM-dd"),app_time:e.app_time||"09:00",address:e.address,description:e.description}),y(e.id)},k=async e=>{if(confirm("Are you sure you want to delete this appointment?"))try{await (0,i.kd)((0,i.H9)(r.db,"appointments",e)),w()}catch(e){console.error("Error deleting appointment:",e)}};return(0,l.useEffect)(()=>{w(),_()},[]),(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Appointment Manager"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsx)(o.Z,{className:"shadow-md",children:(0,t.jsxs)(o.W,{className:"p-6 space-y-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:g?"Edit Appointment":"Create New Appointment"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),(0,t.jsx)(d.p,{placeholder:"Patient's full name",value:m.fullName,onChange:e=>u({...m,fullName:e.target.value}),required:!0})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),(0,t.jsx)(d.p,{placeholder:"Patient's phone",value:m.phoneNumber,onChange:e=>u({...m,phoneNumber:e.target.value}),required:!0})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hospital *"}),(0,t.jsxs)(h,{onValueChange:e=>{let a=s.find(a=>a.id===e);a&&u({...m,hospitalName:a.name,hospitalID:a.id})},value:m.hospitalID,children:[(0,t.jsx)(f,{children:(0,t.jsx)(x,{placeholder:"Select a hospital"})}),(0,t.jsx)(N,{className:"bg-white",children:s.map(e=>(0,t.jsx)(b,{value:e.id,children:e.name},e.id))})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date *"}),(0,t.jsx)(d.p,{type:"date",value:m.app_date,onChange:e=>u({...m,app_date:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time *"}),(0,t.jsx)(d.p,{type:"time",value:m.app_time,onChange:e=>u({...m,app_time:e.target.value}),required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,t.jsx)(d.p,{placeholder:"Additional notes",value:m.description,onChange:e=>u({...m,description:e.target.value})})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-2",children:[g&&(0,t.jsx)(n.$,{variant:"default",onClick:()=>{y(null),u({fullName:"",email:"",phoneNumber:"",hospitalName:"",hospitalID:"",app_date:(0,c.GP)(new Date,"yyyy-MM-dd"),app_time:"09:00",address:"",description:""})},children:"Cancel"}),(0,t.jsx)(n.$,{onClick:D,disabled:j,className:"bg-blue-600 hover:bg-blue-700",children:j?"Processing...":g?"Update Appointment":"Create Appointment"})]})]})]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Upcoming Appointments"}),j&&0===e.length?(0,t.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}):0===e.length?(0,t.jsx)(o.Z,{className:"py-8 text-center",children:(0,t.jsx)("p",{className:"text-gray-500",children:"No appointments scheduled"})}):(0,t.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,t.jsx)(o.Z,{className:"hover:shadow-md transition-shadow border-l-4 border-blue-500",children:(0,t.jsxs)(o.W,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:e.fullName}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mt-1 bg-gray-100 p-2 rounded",children:[(0,t.jsx)("span",{className:"font-medium",children:"Hospital:"})," ",e.hospitalName]})]}),(0,t.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:e.app_time})]}),(0,t.jsx)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-2",children:(0,t.jsxs)("p",{className:"text-sm",children:[(0,t.jsx)("span",{className:"font-medium",children:"Phone:"})," ",e.phoneNumber]})}),(0,t.jsx)("div",{className:"mt-3 p-2 bg-gray-50 rounded",children:(0,t.jsx)("p",{className:"font-medium",children:e.formattedDate})}),e.description&&(0,t.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,t.jsx)("span",{className:"font-medium",children:"Notes:"})," ",e.description]})}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,t.jsx)(n.$,{variant:"default",onClick:()=>I(e),children:"Edit"}),(0,t.jsx)(n.$,{variant:"destructive",onClick:()=>k(e.id),children:"Delete"})]})]})},e.id))})]})]})]})}b.displayName=p.q7.displayName,l.forwardRef((e,a)=>{let{className:s="",...l}=e;return(0,t.jsx)(p.wv,{ref:a,className:"-mx-1 my-1 h-px bg-muted ".concat(s),...l})}).displayName=p.wv.displayName},2175:(e,a,s)=>{"use strict";s.d(a,{A:()=>o,I:()=>n,db:()=>d});var t=s(3915),l=s(5317),r=s(858);let i=(0,t.Wp)({apiKey:"AIzaSyD2YieupthdsqBItdMd0lFkYKlVxdzKT8I",authDomain:"care4you1-62cc7.firebaseapp.com",projectId:"care4you1-62cc7",storageBucket:"care4you1-62cc7.appspot.com",messagingSenderId:"617055937715",appId:"1:617055937715:android:4b08984ae563213174bcc6"}),d=(0,l.aU)(i),n=(0,r.c7)(i),o=i},2523:(e,a,s)=>{"use strict";s.d(a,{p:()=>l});var t=s(5155);function l(e){return(0,t.jsx)("input",{...e,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}},4999:(e,a,s)=>{Promise.resolve().then(s.bind(s,299))},6695:(e,a,s)=>{"use strict";s.d(a,{W:()=>r,Z:()=>l});var t=s(5155);function l(e){let{children:a,...s}=e;return(0,t.jsx)("div",{...s,className:"bg-white shadow-md rounded-xl border border-gray-200",children:a})}function r(e){let{children:a,...s}=e;return(0,t.jsx)("div",{...s,className:"p-4 space-y-3",children:a})}}},e=>{var a=a=>e(e.s=a);e.O(0,[992,392,904,441,684,358],()=>a(4999)),_N_E=e.O()}]);